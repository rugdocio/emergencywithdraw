(this.webpackJsonpemergencywithdraw=this.webpackJsonpemergencywithdraw||[]).push([[0],{389:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"_masterchef","type":"address"},{"internalType":"address","name":"user","type":"address"},{"internalType":"uint256","name":"start","type":"uint256"},{"internalType":"uint256","name":"limit","type":"uint256"}],"name":"fetchPools","outputs":[{"components":[{"internalType":"string","name":"symbol","type":"string"},{"internalType":"string","name":"name","type":"string"},{"internalType":"address","name":"want","type":"address"},{"internalType":"uint256","name":"allocPoint","type":"uint256"},{"internalType":"uint16","name":"depFee","type":"uint16"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"total","type":"uint256"},{"internalType":"bool","name":"isFallback","type":"bool"},{"internalType":"uint8","name":"decimals","type":"uint8"}],"internalType":"struct Pool[]","name":"","type":"tuple[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes","name":"_address","type":"bytes"}],"name":"getAddressFromBytes","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"contract Masterchef","name":"mc","type":"address"},{"internalType":"uint256","name":"pid","type":"uint256"},{"internalType":"address","name":"user","type":"address"}],"name":"getPoolFallback","outputs":[{"components":[{"internalType":"string","name":"symbol","type":"string"},{"internalType":"string","name":"name","type":"string"},{"internalType":"address","name":"want","type":"address"},{"internalType":"uint256","name":"allocPoint","type":"uint256"},{"internalType":"uint16","name":"depFee","type":"uint16"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"total","type":"uint256"},{"internalType":"bool","name":"isFallback","type":"bool"},{"internalType":"uint8","name":"decimals","type":"uint8"}],"internalType":"struct Pool","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"contract Masterchef","name":"mc","type":"address"},{"internalType":"uint256","name":"pid","type":"uint256"},{"internalType":"address","name":"user","type":"address"}],"name":"getPoolStandard","outputs":[{"components":[{"internalType":"string","name":"symbol","type":"string"},{"internalType":"string","name":"name","type":"string"},{"internalType":"address","name":"want","type":"address"},{"internalType":"uint256","name":"allocPoint","type":"uint256"},{"internalType":"uint16","name":"depFee","type":"uint16"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"total","type":"uint256"},{"internalType":"bool","name":"isFallback","type":"bool"},{"internalType":"uint8","name":"decimals","type":"uint8"}],"internalType":"struct Pool","name":"","type":"tuple"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"getTokenDetails","outputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"symbol","type":"string"},{"internalType":"uint8","name":"decimals","type":"uint8"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"token","type":"address"}],"name":"getTokenName","outputs":[{"internalType":"string","name":"name","type":"string"},{"internalType":"string","name":"symbol","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"mc","type":"address"},{"internalType":"address","name":"token","type":"address"}],"name":"getTotal","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes","name":"_uint256","type":"bytes"}],"name":"getUint32FromBytes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"pure","type":"function"},{"inputs":[{"internalType":"contract Masterchef","name":"mc","type":"address"}],"name":"isStandardChef","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"}]')},390:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"uint256","name":"pid","type":"uint256"}],"name":"emergencyWithdraw","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"uint256","name":"pid","type":"uint256"}],"name":"poolInfo","outputs":[{"internalType":"address","name":"want","type":"address"},{"internalType":"uint256","name":"allocPoint","type":"uint256"},{"internalType":"uint256","name":"lastRewardBlock","type":"uint256"},{"internalType":"uint256","name":"accBELTPerShare","type":"uint256"},{"internalType":"uint16","name":"depFee","type":"uint16"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"poolLength","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_pid","type":"uint256"},{"internalType":"address","name":"_user","type":"address"}],"name":"userInfo","outputs":[{"internalType":"uint256","name":"shares","type":"uint256"},{"internalType":"uint256","name":"rewardDebt","type":"uint256"}],"stateMutability":"view","type":"function"}]')},391:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"address","name":"spender","type":"address"}],"name":"allowance","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"spender","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"approve","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"account","type":"address"}],"name":"balanceOf","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"totalSupply","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transfer","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"sender","type":"address"},{"internalType":"address","name":"recipient","type":"address"},{"internalType":"uint256","name":"amount","type":"uint256"}],"name":"transferFrom","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"nonpayable","type":"function"}]')},417:function(e,t,n){},418:function(e,t,n){},420:function(e,t){},468:function(e,t){},470:function(e,t){},536:function(e,t){},538:function(e,t){},570:function(e,t){},575:function(e,t){},577:function(e,t){},584:function(e,t){},597:function(e,t){},619:function(e,t){},636:function(e,t){},709:function(e,t){},865:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(52),s=n.n(i),u=(n(417),n(11)),c=n.n(u),o=n(60),p=n(81),l=(n(418),n(877)),d=n(37),y=n(878),m=n(407),f=n(389),b=n(390),h=n(391),v={fetcher:{321:"0x4fd9016c5ff784709e8CcF0f6E8aDd357803bf91",137:"0x8ef5eB0522F8771286c7012abBFE7cDFC03A6b7d",56:"0xD19D7a09d444304f9A57f5297a2d6f684E430238",250:"0x4fd9016c5ff784709e8CcF0f6E8aDd357803bf91",43114:"0x4fd9016c5ff784709e8CcF0f6E8aDd357803bf91"}},T=function(e,t){var n=e.utils.toBN,a={56:n(5).mul(n(10).pow(n(9))),137:n(1).mul(n(10).pow(n(9))),321:n(1).mul(n(10).pow(n(9)))};return t in a?a[t]:0},j=function(e,t,n,a){if(void 0!==n)return new n.eth.Contract(e,t,{gasPrice:T(n,a).toString()})},g=function(e,t){if(void 0!==e&&void 0!==t)return j(f,function(e){return function(e,t){return e[t]?e[t]:e[56]}(v.fetcher,e)}(t),e,t)},w=function(e,t,n){if(void 0!==e&&void 0!==e.eth&&null!=n)return j(b,n,e,t)},x=function(e,t,n){if(void 0!==e&&void 0!==e.eth&&null!=n)return j(h,n,e,t)},O=function(e,t,n,a){return Object(o.a)(c.a.mark((function r(){var i,s,u;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i=w(e,t,n),r.next=4,i.methods.emergencyWithdraw(a).send({from:e.currentProvider.selectedAddress,gasPrice:T(e,t)});case 4:return s=r.sent,console.log("executed "+s),m.a.open({message:"Transaction Succeeded"}),r.abrupt("return",s);case 10:r.prev=10,r.t0=r.catch(0),console.error(r.t0),u=r.t0.data,m.a.open({message:"Transaction failed",description:u});case 15:case"end":return r.stop()}}),r,null,[[0,10]])})))},k=Object(a.createContext)(),F=Object(a.createContext)(),P=function(){var e=Object(a.useContext)(k).web3,t=Object(a.useState)(),n=Object(p.a)(t,2),r=n[0],i=n[1],s=Object(a.useContext)(F),u=s.masterchefAddress,l=s.userAddress,d=function(){var e=Object(a.useContext)(k),t=e.web3,n=e.chainId;return Object(a.useMemo)((function(){return g(t,n)}),[t,n])}();return Object(a.useEffect)((function(){(function(){var t=Object(o.a)(c.a.mark((function t(){var n,a,r,i,s,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==d&&void 0!==e&&void 0!==u&&void 0!==l){t.next=2;break}return t.abrupt("return",[]);case 2:n=[],a=[],r=0,i=10,t.prev=6;case 7:return t.next=9,d.methods.fetchPools(u,l,r,i).call({gasPrice:"0"});case 9:for(a=(a=t.sent).filter((function(e){return"0x0000000000000000000000000000000000000000"!==e.want})),s=0;s<a.length;s++)o=a[s],n.push({name:o.name,symbol:o.symbol,amount:o.amount,pid:r+s,want:o.want,depositFee:o.depFee,decimals:o.decimals,isFallback:o.isFallback,mc:u});r+=i;case 13:if(a.length>=i&&r<=200){t.next=7;break}case 14:t.next=19;break;case 16:t.prev=16,t.t0=t.catch(6),m.a.open({message:"Unable to fetch masterchef",description:"Are you sure the address is correct?"});case 19:return t.abrupt("return",n);case 20:case"end":return t.stop()}}),t,null,[[6,16]])})));return function(){return t.apply(this,arguments)}})()().then((function(e){i(e)}))}),[u,l,d,e]),r},M=n(882),S=n(880),C=n(881),I=n(408),A={137:"https://polygonscan.com",56:"https://bscscan.com",321:"https://explorer.kcc.io/en"},E=function(e,t){return A[e]+"/address/"+t},B=n(395),D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:18,a=Object(B.formatUnits)(e,n);return(+a).toFixed(t)},N=n(28);var W=function(e){var t=e.name,n=e.symbol,a=e.amount,r=e.pid,i=e.chainId,s=e.want,u=e.depositFee,c=e.decimals,o=e.isFallback,p=e.onEmergencyWithdraw,l=e.onRevoke,d=D(a,c,c);return d>1?d=D(a,2,c):d>.1?d=D(a,3,c):d>.001&&(d=D(a,5,c)),Object(N.jsxs)(y.b.Item,{children:[Object(N.jsx)(y.b.Item.Meta,{avatar:Object(N.jsx)(S.a,{src:"https://rugdoc.io/assets/placeholder.png"}),title:Object(N.jsxs)("a",{target:"_blank",rel:"noreferrer",href:E(i,s),children:[t," - PID: ",r," [ ",(o?"??.??":D(u,2,2))+"%"," ]"]}),description:("0"===a?"0":d)+" "+n}),Object(N.jsxs)("div",{children:[" ",Object(N.jsxs)(C.b,{children:[Object(N.jsx)(I.a,{type:"primary",danger:!0,onClick:p,children:"Emergency Withdraw"}),Object(N.jsx)(I.a,{type:"primary",onClick:l,children:"Revoke"})]})]})]})},_=function(e,t,n,a){return Object(o.a)(c.a.mark((function r(){var i,s,u;return c.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,i=x(e,t,n),r.next=4,i.methods.approve(a,0).send({from:e.currentProvider.selectedAddress,gasPrice:T(e,t)});case 4:return s=r.sent,console.log("executed "+s),m.a.open({message:"Transaction Succeeded"}),r.abrupt("return",s);case 10:r.prev=10,r.t0=r.catch(0),console.error(r.t0),u=r.t0.data,m.a.open({message:"Transaction failed",description:u});case 15:case"end":return r.stop()}}),r,null,[[0,10]])})))},z=function(){return Object(N.jsxs)("div",{style:{textAlign:"center"},children:[Object(N.jsx)(M.a,{style:{fontSize:70,marginBottom:"40px"}}),Object(N.jsx)("p",{style:{fontWeight:"bold",fontSize:35,color:"#7BD0DD"},children:"Enter a masterchef address to get started"}),Object(N.jsx)("p",{children:"Make sure that you're connected to the correct network (Supported: BSC, Polygon, Avalanche, Fantom and KCC)"}),Object(N.jsx)("p",{}),Object(N.jsx)("p",{children:"This is an experimental service, use at your own risk and make sure to double check all contract interactions"})]})};var J=function(){var e=Object(a.useReducer)((function(e){return e+1}),0),t=Object(p.a)(e,2)[1],n=P(),r=Object(a.useContext)(k),i=r.web3,s=r.chainId,u=function(){var e=Object(o.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O(i,s,n.mc,n.pid)().then((function(){t()}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(o.a)(c.a.mark((function e(n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_(i,s,n.want,n.mc)().then((function(){t()}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(l.a,{orientation:"left",children:"Pools"}),Object(N.jsx)(d.a,{renderEmpty:z,children:Object(N.jsx)(y.b,{className:"demo-loadmore-list",size:"large",itemLayout:"horizontal",dataSource:n,renderItem:function(e){return Object(N.jsx)(W,{name:e.name,symbol:e.symbol,amount:e.amount,pid:e.pid,chainId:s,want:e.want,depositFee:e.depositFee,decimals:e.decimals,isFallback:e.isFallback,onEmergencyWithdraw:function(){return u(e)},onRevoke:function(){return m(e)}})}})})]})},L=n(879).a.Search;var R=function(e){var t=e.onStart;return Object(N.jsx)(L,{placeholder:"Enter Masterchef Address",allowClear:!0,enterButton:"Start",size:"large",onSearch:t})},U=n(402),K=n.n(U),q=n(403),G=n.n(q),H=n(404),Q={walletconnect:{package:n.n(H).a,options:{infuraId:"5b7ed00b5a864d5797572f8cfcc5052e"}}},V=new G.a({cacheProvider:!0,providerOptions:Q}),X=function(){var e=Object(a.useState)(),t=Object(p.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)({web3:void 0,chainId:void 0}),s=Object(p.a)(i,2),u=s[0],l=s[1];return Object(a.useEffect)((function(){(function(){var e=Object(o.a)(c.a.mark((function e(){var t,n,a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V.connect();case 2:return t=e.sent,r(t),n=new K.a(t),e.next=7,n.eth.getChainId();case 7:return a=e.sent,t.on("chainChanged",function(){var e=Object(o.a)(c.a.mark((function e(t){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("changed"),e.next=3,n.eth.getChainId();case 3:a=e.sent,l({web3:n,chainId:a});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.abrupt("return",{web3:n,chainId:a});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()().then((function(e){l(e)}))}),[n]),u};var Y=function(){var e=X(),t=e.web3,n=e.chainId,r=Object(a.useState)(void 0),i=Object(p.a)(r,2),s=i[0],u=i[1],l=Object(a.useState)("0x0000000000000000000000000000000000000000"),d=Object(p.a)(l,2),y=d[0],m=d[1];Object(a.useEffect)((function(){void 0!==t&&void 0!==t.currentProvider&&void 0!==t.currentProvider.selectedAddress&&m(t.currentProvider.selectedAddress)}),[t]);var f=function(){var e=Object(o.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsx)(k.Provider,{value:{web3:t,chainId:n},children:Object(N.jsx)(F.Provider,{value:{masterchefAddress:s,userAddress:y},children:Object(N.jsxs)("div",{className:"App",children:[Object(N.jsx)(R,{onStart:f}),Object(N.jsx)(J,{})]})})})},Z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,883)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),i(e),s(e)}))};s.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(Y,{})}),document.getElementById("root")),Z()}},[[865,1,2]]]);
//# sourceMappingURL=main.3f96cd82.chunk.js.map